import{a as d,i as a}from"./assets/vendor-1c96f17f.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();d.defaults.baseURL="https://api.unsplash.com";const L="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc",P="/search/photos",s={page:1,searchQuery:null,perPage:6},g=()=>d.get(`${P}`,{params:{query:s.searchQuery,page:s.page,per_page:s.perPage,orientation:"portrait",client_id:L}}),f=o=>o.map(({urls:e,description:n})=>`<li class="gallery__item">
        <img src="${e.small}" alt="${n}">
    </li>`).join(""),l=document.querySelector(".js-gallery"),q=document.querySelector(".js-search-form"),m=document.querySelector(".js-loader"),u=document.querySelector(".js-load-more");a.settings({progressBar:!1,timeout:4e3,resetOnHover:!0,icon:"material-icons",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});const p=()=>{m.classList.remove("is-hidden")},h=()=>{m.classList.add("is-hidden")},v=()=>{u.classList.remove("is-hidden")},y=()=>{u.classList.add("is-hidden")},O=async o=>{if(o.preventDefault(),l.innerHTML="",s.page=1,p(),s.searchQuery=o.currentTarget.elements["user-search-query"].value.trim(),s.searchQuery==="")return alert("Empty query");try{const{data:e}=await g();if(e.results.length===0)return y(),a.warning({message:"Sorry, there are no images matching your search query. Please try again!"});a.info({message:`We found ${e.total} photos`}),l.innerHTML=f(e.results),e.total>s.perPage&&v()}catch(e){console.log(e)}finally{o.target.reset(),h()}},b=async o=>{s.page+=1,p();try{const{data:e}=await g();l.insertAdjacentHTML("beforeend",f(e.results));const{height:n}=document.querySelector(".js-gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:n*2,behavior:"smooth"}),Math.ceil(e.total/s.perPage)===s.page&&(y(),a.info({message:"We're sorry, but you've reached the end of search results."}))}catch(e){console.log(e)}finally{h()}};q.addEventListener("submit",O);u.addEventListener("click",b);
//# sourceMappingURL=commonHelpers.js.map
